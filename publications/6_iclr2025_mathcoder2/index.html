<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link rel="stylesheet" href="/css/wowchemy.697f01b152168f0453beb35133e9d9b7.css" />
  <link rel="icon" type="image/png" href="main.png" />
  <title>MathCoder2: Better Math Reasoning from Continued Pretraining on Model-translated Mathematical Code | Ke Wang's
    Homepage
  </title>
</head>

<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" class="page-wrapper   "
  data-wc-page-id="cafbfc3e2eb3badc053a7569a496a114">
  <script src="/js/wowchemy-init.min.2da3b1fa37e894630bf6de39b1b694b3.js"></script>
  <aside class="search-modal" id="search">
    <div class="container">
      <section class="search-header">
        <div class="row no-gutters justify-content-between mb-3">
          <div class="col-6">
            <h1>Search</h1>
          </div>
          <div class="col-6 col-search-close"> <a class="js-search" href="#" aria-label="Close"><i
                class="fas fa-times-circle text-muted" aria-hidden="true"></i></a> </div>
        </div>
        <div id="search-box"> <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
            autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control"
            aria-label="Search..."> </div>
      </section>
      <section class="section-search-results">
        <div id="search-hits"> </div>
      </section>
    </div>
  </aside>
  <div class="page-header">
    <nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
      <div class="container-xl">
        <div class="d-none d-lg-inline-flex"> <a class="navbar-brand" href="/">Ke Wang's Homepage</a> </div> <button
          type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-content"
          aria-controls="navbar-content" aria-expanded="false" aria-label="Toggle navigation"> <span><i
              class="fas fa-bars"></i></span> </button>
        <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"> <a class="navbar-brand" href="/">Ke Wang&#39;s
            Homepage</a> </div>
        <div class="navbar-collapse main-menu-item collapse justify-content-start" id="navbar-content">
          <ul class="navbar-nav d-md-inline-flex">
            <li class="nav-item"> <a class="nav-link " href="/#about"><span>Home</span></a> </li>
            <li class="nav-item"> <a class="nav-link " href="/#experiences"><span>Experiences</span></a> </li>
            <li class="nav-item"> <a class="nav-link " href="/#featured"><span>Publications</span></a> </li>
            <li class="nav-item"> <a class="nav-link " href="/#honors"><span>Honors</span></a>
          </ul>
        </div>
        <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">
          <li class="nav-item"> <a class="nav-link js-search" href="#" aria-label="Search"><i class="fas fa-search"
                aria-hidden="true"></i></a> </li>
          <li class="nav-item dropdown theme-dropdown"> <a href="#" class="nav-link" data-toggle="dropdown"
              aria-haspopup="true" aria-label="Display preferences"> <i class="fas fa-moon" aria-hidden="true"></i> </a>
            <div class="dropdown-menu"> <a href="#" class="dropdown-item js-set-theme-light"> <span>Light</span> </a> <a
                href="#" class="dropdown-item js-set-theme-dark"> <span>Dark</span> </a> <a href="#"
                class="dropdown-item js-set-theme-auto"> <span>Automatic</span> </a> </div>
          </li>
        </ul>
      </div>
    </nav>
  </div>
  <div class="page-body">
    <div class="pub">
      <div class="article-container pt-3">
        <h1>MathCoder2: Better Math Reasoning from Continued Pretraining on Model-translated Mathematical Code</h1>
        <div class="article-metadata"> <span class="article-date"> Sep 2024 </span></div>
        <div class="btn-links mb-3">
          <a href="#" class="btn btn-outline-primary btn-page-header js-cite-modal" data-filename="cite.bib">
            Cite
          </a>
          <a class="btn btn-outline-primary btn-page-header" href="https://mathllm.github.io/mathcoder2/"
            target="_blank" rel="noopener">
            Project Page
          </a>
          <a class="btn btn-outline-primary btn-page-header" href="https://github.com/mathllm/MathCoder2"
            target="_blank" rel="noopener">
            Code
          </a>
        </div>
      </div>
      <div class="article-header article-container featured-image-wrapper mt-4 mb-4">
        <div style="position: relative"> <img src="fig_pipeline.png" alt="" class="featured-image"> <span
            class="article-header-caption">Overall
            framework</span> </div>
      </div>
      <div class="article-container">
        <h3>Abstract</h3>
        <p class="pub-abstract">Code has been shown to be effective in enhancing the mathematical reasoning abilities of
          large language models due to its precision and accuracy. Previous works involving continued mathematical
          pretraining often include code that utilizes math-related packages, which are primarily designed for fields
          such as engineering, machine learning, signal processing, or module testing, rather than being directly
          focused on mathematical reasoning. In this paper, we introduce a novel method for generating mathematical code
          accompanied with corresponding reasoning steps for continued pretraining. Our approach begins with the
          construction of a high-quality mathematical continued pretraining dataset by incorporating math-related web
          data, code using mathematical packages, math textbooks, and synthetic data. Next, we construct reasoning steps
          by extracting LaTeX expressions, the conditions needed for the expressions, and the results of the expressions
          from the previously collected dataset. Based on this extracted information, we generate corresponding code to
          accurately capture the mathematical reasoning process. Appending the generated code to each reasoning step
          results in data consisting of paired natural language reasoning steps and their corresponding code. Combining
          this data with the original dataset results in a 19.2B-token high-performing mathematical pretraining corpus,
          which we name MathCode-Pile. Training several popular base models with this corpus significantly improves
          their mathematical abilities, leading to the creation of the MathCoder2 family of models. All of our data
          processing and training code is open-sourced, ensuring full transparency and easy reproducibility of the
          entire data collection and training pipeline.</p>
        <div class="row">
          <div class="col-md-1"></div>
          <div class="col-md-10">
            <div class="row">
              <div class="col-12 col-md-5 pub-row-heading">Type</div>
              <div class="col-12 col-md-7"> <a href="/publications/#conference"> Conference paper </a> </div>
            </div>
          </div>
          <div class="col-md-1"></div>
        </div>
        <div class="d-md-none space-below"></div>
        <div class="row">
          <div class="col-md-1"></div>
          <div class="col-md-10">
            <div class="row">
              <div class="col-12 col-md-2 pub-row-heading">Bibtex</div>
              <div class="col-12 col-md-10">
                <pre><code id="bibtex-content">Loading...</code></pre>
              </div>
            </div>
          </div>
          <div class="col-md-1"></div>
        </div>
        <div class="d-md-none space-below"></div>
        <div class="space-below"></div>
        <div class="article-style">
          <div class="article-widget content-widget-hr">
            <h3>Related</h3>

            <ul>
              <li><a href="/publications/7_iclr2025_mathcodervl/">MathCoder-VL: Bridging Vision and Code for Enhanced
                  Multimodal Mathematical Reasoning</a></li>
            </ul>
            <ul>
              <li><a href="/publications/2_iclr2024_mathcoder">MathCoder: Seamless Code Integration in LLMs for Enhanced
                  Mathematical Reasoning</a></li>
            </ul>
            <ul>
              <li><a href="/publications/1_iclr2024_csv">Solving Challenging Math Word Problems Using GPT-4 Code
                  Interpreter with Code-based Self-Verification</a></li>
            </ul>

          </div>
          <div class="article-tags"> <a class="badge badge-light" href="/publications/">Full list</a> </div>

        </div>
      </div>
    </div>
</body>

<style>
  #bibtex-content {
    color: #444;
    /* 深灰色，若需纯黑可用 #000 */
  }
</style>
<script>
  fetch('/publications/7_iclr2025_mathcodervl/cite.bib')
    .then(response => response.text())
    .then(text => {
      document.getElementById('bibtex-content').textContent = text;
    })
    .catch(() => {
      document.getElementById('bibtex-content').textContent = 'Failed to load BibTeX.';
    });
</script>

</html>